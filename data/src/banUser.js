


const _0x4d3c85=_0x1ea5;function _0x5e36(){const _0x3e7a49=['\x20ajouté\x20à\x20la\x20liste\x20des\x20bannis.','../set','release','SELECT\x20EXISTS\x20(SELECT\x201\x20FROM\x20banUser\x20WHERE\x20jid\x20=\x20$1)','3647130wJIjAY','rows','2272vCkxFl','Erreur\x20lors\x20de\x20la\x20suppression\x20de\x20l\x27utilisateur\x20banni\x20:','2947378mmsIFs','JID\x20','query','connect','DELETE\x20FROM\x20banUser\x20WHERE\x20jid\x20=\x20$1','1788238PIVinM','error','La\x20table\x20\x27banUser\x27\x20a\x20été\x20créée\x20avec\x20succès.','\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20banUser\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20jid\x20text\x20PRIMARY\x20KEY\x0a\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20','5766952qQHlnO','dotenv','Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27banUser\x27:','log','\x20supprimé\x20de\x20la\x20liste\x20des\x20bannis.','DATABASE_URL','INSERT\x20INTO\x20banUser\x20(jid)\x20VALUES\x20($1)','config','584765DHJywK','4015KMNMwv','postgres://db_7xp9_user:6hwmTN7rGPNsjlBEHyX49CXwrG7cDeYi@dpg-cj7ldu5jeehc73b2p7g0-a.oregon-postgres.render.com/db_7xp9','914445HpTcuE','6UXetNV'];_0x5e36=function(){return _0x3e7a49;};return _0x5e36();}(function(_0x40fceb,_0x4d36c3){const _0x3bdfcd=_0x1ea5,_0x4f6a9a=_0x40fceb();while(!![]){try{const _0x4226b9=parseInt(_0x3bdfcd(0x15a))/0x1+parseInt(_0x3bdfcd(0x16c))/0x2*(parseInt(_0x3bdfcd(0x15e))/0x3)+parseInt(_0x3bdfcd(0x165))/0x4*(parseInt(_0x3bdfcd(0x15b))/0x5)+-parseInt(_0x3bdfcd(0x163))/0x6+-parseInt(_0x3bdfcd(0x167))/0x7+-parseInt(_0x3bdfcd(0x170))/0x8+-parseInt(_0x3bdfcd(0x15d))/0x9;if(_0x4226b9===_0x4d36c3)break;else _0x4f6a9a['push'](_0x4f6a9a['shift']());}catch(_0x1549ff){_0x4f6a9a['push'](_0x4f6a9a['shift']());}}}(_0x5e36,0xeeb3c),require(_0x4d3c85(0x171))[_0x4d3c85(0x159)]());const {Pool}=require('pg'),s=require(_0x4d3c85(0x160));var dbUrl=s[_0x4d3c85(0x157)]?s[_0x4d3c85(0x157)]:_0x4d3c85(0x15c);const proConfig={'connectionString':dbUrl,'ssl':{'rejectUnauthorized':![]}},pool=new Pool(proConfig),creerTableBanUser=async()=>{const _0x2badcc=_0x4d3c85;try{await pool['query'](_0x2badcc(0x16f)),console[_0x2badcc(0x173)](_0x2badcc(0x16e));}catch(_0x16c733){console[_0x2badcc(0x16d)](_0x2badcc(0x172),_0x16c733);}};creerTableBanUser();function _0x1ea5(_0x229c4c,_0x37e879){const _0x5e360d=_0x5e36();return _0x1ea5=function(_0x1ea531,_0x2aff8c){_0x1ea531=_0x1ea531-0x156;let _0x2400b5=_0x5e360d[_0x1ea531];return _0x2400b5;},_0x1ea5(_0x229c4c,_0x37e879);}async function addUserToBanList(_0x321fe8){const _0x342768=_0x4d3c85,_0x45aebd=await pool['connect']();try{const _0x3cc533=[_0x321fe8];await _0x45aebd[_0x342768(0x169)](_0x342768(0x158),_0x3cc533),console[_0x342768(0x173)](_0x342768(0x168)+_0x321fe8+_0x342768(0x15f));}catch(_0x5096c9){console['error']('Erreur\x20lors\x20de\x20l\x27ajout\x20de\x20l\x27utilisateur\x20banni\x20:',_0x5096c9);}finally{_0x45aebd[_0x342768(0x161)]();}}async function isUserBanned(_0x231a7e){const _0x2cf367=_0x4d3c85,_0x2aacfe=await pool['connect']();try{const _0x7fc37d=[_0x231a7e],_0x525bed=await _0x2aacfe['query'](_0x2cf367(0x162),_0x7fc37d);return _0x525bed[_0x2cf367(0x164)][0x0]['exists'];}catch(_0x2ee06){return console[_0x2cf367(0x16d)]('Erreur\x20lors\x20de\x20la\x20vérification\x20de\x20l\x27utilisateur\x20banni\x20:',_0x2ee06),![];}finally{_0x2aacfe[_0x2cf367(0x161)]();}}async function removeUserFromBanList(_0x38f320){const _0x3734ca=_0x4d3c85,_0x4a81cd=await pool[_0x3734ca(0x16a)]();try{const _0x4c211b=[_0x38f320];await _0x4a81cd['query'](_0x3734ca(0x16b),_0x4c211b),console[_0x3734ca(0x173)](_0x3734ca(0x168)+_0x38f320+_0x3734ca(0x156));}catch(_0x3f1ef5){console[_0x3734ca(0x16d)](_0x3734ca(0x166),_0x3f1ef5);}finally{_0x4a81cd[_0x3734ca(0x161)]();}}module['exports']={'addUserToBanList':addUserToBanList,'isUserBanned':isUserBanned,'removeUserFromBanList':removeUserFromBanList};



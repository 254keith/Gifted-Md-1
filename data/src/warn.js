


const _0x5af27c=_0x5e9d;(function(_0x1f6476,_0x40ea05){const _0x4ddfed=_0x5e9d,_0x59706b=_0x1f6476();while(!![]){try{const _0x13ed0d=-parseInt(_0x4ddfed(0xf7))/0x1+-parseInt(_0x4ddfed(0xea))/0x2*(parseInt(_0x4ddfed(0xf1))/0x3)+-parseInt(_0x4ddfed(0xee))/0x4+-parseInt(_0x4ddfed(0xf2))/0x5+parseInt(_0x4ddfed(0x103))/0x6*(parseInt(_0x4ddfed(0xf8))/0x7)+-parseInt(_0x4ddfed(0xec))/0x8+-parseInt(_0x4ddfed(0xeb))/0x9*(-parseInt(_0x4ddfed(0x106))/0xa);if(_0x13ed0d===_0x40ea05)break;else _0x59706b['push'](_0x59706b['shift']());}catch(_0xd51eea){_0x59706b['push'](_0x59706b['shift']());}}}(_0x2318,0xacbed),require('dotenv')[_0x5af27c(0xf6)]());const {Pool}=require('pg'),s=require(_0x5af27c(0xfe));var dbUrl=s[_0x5af27c(0x100)]?s[_0x5af27c(0x100)]:'postgres://db_7xp9_user:6hwmTN7rGPNsjlBEHyX49CXwrG7cDeYi@dpg-cj7ldu5jeehc73b2p7g0-a.oregon-postgres.render.com/db_7xp9';const proConfig={'connectionString':dbUrl,'ssl':{'rejectUnauthorized':![]}},pool=new Pool(proConfig);async function creerTableWarnUsers(){const _0xb5580f=_0x5af27c,_0x1e2849=await pool[_0xb5580f(0xef)]();try{await _0x1e2849['query'](_0xb5580f(0xf0)),console[_0xb5580f(0xf5)](_0xb5580f(0x101));}catch(_0x3eba7c){console[_0xb5580f(0xed)](_0xb5580f(0xfb),_0x3eba7c);}finally{_0x1e2849[_0xb5580f(0xff)]();}};creerTableWarnUsers();async function ajouterUtilisateurAvecWarnCount(_0x40c0a0){const _0x54000b=_0x5af27c,_0xb7840d=await pool[_0x54000b(0xef)]();try{const _0x4c6501=[_0x40c0a0];await _0xb7840d[_0x54000b(0xfc)](_0x54000b(0xfd),_0x4c6501),console[_0x54000b(0xf5)]('Utilisateur\x20'+_0x40c0a0+_0x54000b(0xfa));}catch(_0x55e210){console[_0x54000b(0xed)](_0x54000b(0xf4),_0x55e210);}finally{_0xb7840d[_0x54000b(0xff)]();}};function _0x5e9d(_0x566512,_0x3016e5){const _0x23186a=_0x2318();return _0x5e9d=function(_0x5e9d6b,_0x3b8c12){_0x5e9d6b=_0x5e9d6b-0xea;let _0x25d5e6=_0x23186a[_0x5e9d6b];return _0x25d5e6;},_0x5e9d(_0x566512,_0x3016e5);}async function getWarnCountByJID(_0x2596c4){const _0x432927=_0x5af27c,_0x131ab1=await pool[_0x432927(0xef)]();try{const _0x462d91=[_0x2596c4],_0x2a2ae4=await _0x131ab1['query']('SELECT\x20warn_count\x20FROM\x20warn_users\x20WHERE\x20jid\x20=\x20$1',_0x462d91);if(_0x2a2ae4['rows'][_0x432927(0x105)]>0x0){const _0x23bfe0=_0x2a2ae4[_0x432927(0x102)][0x0][_0x432927(0xf9)];return _0x23bfe0;}else return 0x0;}catch(_0x58c70b){return console[_0x432927(0xed)](_0x432927(0xf3),_0x58c70b),-0x1;}finally{_0x131ab1['release']();}};async function resetWarnCountByJID(_0x40730c){const _0x3768cd=_0x5af27c,_0x8102a7=await pool[_0x3768cd(0xef)]();try{const _0x1ac8f9=[_0x40730c];await _0x8102a7[_0x3768cd(0xfc)]('UPDATE\x20warn_users\x20SET\x20warn_count\x20=\x200\x20WHERE\x20jid\x20=\x20$1',_0x1ac8f9),console[_0x3768cd(0xf5)]('Le\x20warn_count\x20de\x20l\x27utilisateur\x20'+_0x40730c+_0x3768cd(0x104));}catch(_0x5ee53a){console[_0x3768cd(0xed)]('Erreur\x20lors\x20de\x20la\x20réinitialisation\x20du\x20warn_count\x20:',_0x5ee53a);}finally{_0x8102a7['release']();}}module['exports']={'ajouterUtilisateurAvecWarnCount':ajouterUtilisateurAvecWarnCount,'getWarnCountByJID':getWarnCountByJID,'resetWarnCountByJID':resetWarnCountByJID};function _0x2318(){const _0x4ba337=['5088460EypcpM','connect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20warn_users\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20jid\x20text\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20warn_count\x20integer\x20DEFAULT\x200\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20','951XrmKdp','2641110GedEHw','Erreur\x20lors\x20de\x20la\x20récupération\x20du\x20warn_count\x20:','Erreur\x20lors\x20de\x20l\x27ajout\x20ou\x20de\x20la\x20mise\x20à\x20jour\x20de\x20l\x27utilisateur\x20:','log','config','955486BFWYTn','259LxuWdD','warn_count','\x20ajouté\x20ou\x20mis\x20à\x20jour\x20avec\x20un\x20warn_count\x20de\x201.','Erreur\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27warn_users\x27:','query','\x0a\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20warn_users\x20(jid,\x20warn_count)\x0a\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20($1,\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT\x20(jid)\x0a\x20\x20\x20\x20\x20\x20\x20\x20DO\x20UPDATE\x20SET\x20warn_count\x20=\x20warn_users.warn_count\x20+\x201;\x0a\x20\x20\x20\x20\x20\x20','../set','release','DATABASE_URL','La\x20table\x20\x27warn_users\x27\x20a\x20été\x20créée\x20avec\x20succès.','rows','149892QrdEPB','\x20a\x20été\x20réinitialisé\x20à\x200.','length','410480MuShrg','2558XtANsZ','945bPIOQK','10924344GOFtuf','error'];_0x2318=function(){return _0x4ba337;};return _0x2318();}



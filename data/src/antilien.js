


const _0x5e0a93=_0x4046;function _0x50c2(){const _0x26456d=['postgres://db_7xp9_user:6hwmTN7rGPNsjlBEHyX49CXwrG7cDeYi@dpg-cj7ldu5jeehc73b2p7g0-a.oregon-postgres.render.com/db_7xp9','713590WYjaMJ','action','60304dRwAyi','917476zWgmvH','5717388NzIrRv','UPDATE\x20antilien\x20SET\x20action\x20=\x20$1\x20WHERE\x20jid\x20=\x20$2','query','SELECT\x20action\x20FROM\x20antilien\x20WHERE\x20jid\x20=\x20$1','Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27antilien\x27:','994LBVewB','Action\x20mise\x20à\x20jour\x20avec\x20succès\x20pour\x20le\x20JID\x20','supp','length','release','JID\x20','16595199lenpbz','exports','La\x20table\x20\x27antilien\x27\x20a\x20été\x20créée\x20avec\x20succès.','non','log','etat','../set','config','rows','Erreur\x20lors\x20de\x20la\x20récupération\x20de\x20l\x27action\x20du\x20JID\x20dans\x20la\x20table\x20:','connect','dotenv','\x20dans\x20la\x20table\x20\x27antilien\x27.','oui','329640bRRouB','Erreur\x20lors\x20de\x20l\x27ajout\x20ou\x20de\x20la\x20mise\x20à\x20jour\x20du\x20JID\x20dans\x20la\x20table\x20,','25xpYUIr','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20de\x20l\x27action\x20pour\x20le\x20JID\x20dans\x20la\x20table\x20\x20:','INSERT\x20INTO\x20antilien\x20(jid,\x20etat,\x20action)\x20VALUES\x20($1,\x20$2,\x20$3)','SELECT\x20*\x20FROM\x20antilien\x20WHERE\x20jid\x20=\x20$1','1610490CeorXV','error','SELECT\x20etat\x20FROM\x20antilien\x20WHERE\x20jid\x20=\x20$1','DATABASE_URL','\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20antilien\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20jid\x20text\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20etat\x20text,\x0a\x20\x20\x20\x20\x20\x20\x20\x20action\x20text\x0a\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20'];_0x50c2=function(){return _0x26456d;};return _0x50c2();}(function(_0x5a23a1,_0x230349){const _0xf525d2=_0x4046,_0x5c7a56=_0x5a23a1();while(!![]){try{const _0x28c73b=parseInt(_0xf525d2(0xa3))/0x1+-parseInt(_0xf525d2(0xa6))/0x2+parseInt(_0xf525d2(0x9d))/0x3+-parseInt(_0xf525d2(0x97))/0x4*(parseInt(_0xf525d2(0x99))/0x5)+parseInt(_0xf525d2(0xa7))/0x6+-parseInt(_0xf525d2(0xac))/0x7*(-parseInt(_0xf525d2(0xa5))/0x8)+-parseInt(_0xf525d2(0x89))/0x9;if(_0x28c73b===_0x230349)break;else _0x5c7a56['push'](_0x5c7a56['shift']());}catch(_0x7e743e){_0x5c7a56['push'](_0x5c7a56['shift']());}}}(_0x50c2,0x887a7),require(_0x5e0a93(0x94))[_0x5e0a93(0x90)]());const {Pool}=require('pg');let s=require(_0x5e0a93(0x8f));function _0x4046(_0x1360b0,_0x41a4dd){const _0x50c24a=_0x50c2();return _0x4046=function(_0x404695,_0x16610e){_0x404695=_0x404695-0x89;let _0x2c21de=_0x50c24a[_0x404695];return _0x2c21de;},_0x4046(_0x1360b0,_0x41a4dd);}var dbUrl=s['DATABASE_URL']?s[_0x5e0a93(0xa0)]:_0x5e0a93(0xa2);const proConfig={'connectionString':dbUrl,'ssl':{'rejectUnauthorized':![]}},pool=new Pool(proConfig);async function createAntilienTable(){const _0x294c2b=_0x5e0a93,_0x411a36=await pool[_0x294c2b(0x93)]();try{await _0x411a36[_0x294c2b(0xa9)](_0x294c2b(0xa1)),console[_0x294c2b(0x8d)](_0x294c2b(0x8b));}catch(_0x4b540c){console[_0x294c2b(0x9e)](_0x294c2b(0xab),_0x4b540c);}finally{_0x411a36['release']();}}createAntilienTable();async function ajouterOuMettreAJourJid(_0x4d743b,_0x212fbe){const _0x373d16=_0x5e0a93,_0x4d5d28=await pool['connect']();try{const _0x340411=await _0x4d5d28[_0x373d16(0xa9)](_0x373d16(0x9c),[_0x4d743b]),_0xe9c595=_0x340411['rows']['length']>0x0;_0xe9c595?await _0x4d5d28[_0x373d16(0xa9)]('UPDATE\x20antilien\x20SET\x20etat\x20=\x20$1\x20WHERE\x20jid\x20=\x20$2',[_0x212fbe,_0x4d743b]):await _0x4d5d28[_0x373d16(0xa9)](_0x373d16(0x9b),[_0x4d743b,_0x212fbe,_0x373d16(0xae)]),console['log'](_0x373d16(0xb1)+_0x4d743b+'\x20ajouté\x20ou\x20mis\x20à\x20jour\x20avec\x20succès\x20dans\x20la\x20table\x20\x27antilien\x27.');}catch(_0x22668d){console['error'](_0x373d16(0x98),_0x22668d);}finally{_0x4d5d28['release']();}};async function mettreAJourAction(_0x97d34a,_0x23c480){const _0x1490ae=_0x5e0a93,_0x21c6e6=await pool[_0x1490ae(0x93)]();try{const _0x46d9f6=await _0x21c6e6[_0x1490ae(0xa9)](_0x1490ae(0x9c),[_0x97d34a]),_0x497a95=_0x46d9f6['rows'][_0x1490ae(0xaf)]>0x0;_0x497a95?await _0x21c6e6[_0x1490ae(0xa9)](_0x1490ae(0xa8),[_0x23c480,_0x97d34a]):await _0x21c6e6[_0x1490ae(0xa9)](_0x1490ae(0x9b),[_0x97d34a,_0x1490ae(0x8c),_0x23c480]),console[_0x1490ae(0x8d)](_0x1490ae(0xad)+_0x97d34a+_0x1490ae(0x95));}catch(_0x3c750f){console[_0x1490ae(0x9e)](_0x1490ae(0x9a),_0x3c750f);}finally{_0x21c6e6[_0x1490ae(0xb0)]();}};async function verifierEtatJid(_0x3c58e0){const _0x130e96=_0x5e0a93,_0x27aa58=await pool['connect']();try{const _0x492947=await _0x27aa58[_0x130e96(0xa9)](_0x130e96(0x9f),[_0x3c58e0]);if(_0x492947[_0x130e96(0x91)][_0x130e96(0xaf)]>0x0){const _0x4609a8=_0x492947['rows'][0x0][_0x130e96(0x8e)];return _0x4609a8===_0x130e96(0x96);}else return![];}catch(_0x589d01){return console['error']('Erreur\x20lors\x20de\x20la\x20vérification\x20de\x20l\x27état\x20du\x20JID\x20dans\x20la\x20table\x20',_0x589d01),![];}finally{_0x27aa58[_0x130e96(0xb0)]();}};async function recupererActionJid(_0x41c5fd){const _0x243282=_0x5e0a93,_0x2d13a3=await pool[_0x243282(0x93)]();try{const _0x726d92=await _0x2d13a3[_0x243282(0xa9)](_0x243282(0xaa),[_0x41c5fd]);if(_0x726d92[_0x243282(0x91)][_0x243282(0xaf)]>0x0){const _0x17c081=_0x726d92[_0x243282(0x91)][0x0][_0x243282(0xa4)];return _0x17c081;}else return _0x243282(0xae);}catch(_0x1b0c9b){return console[_0x243282(0x9e)](_0x243282(0x92),_0x1b0c9b),_0x243282(0xae);}finally{_0x2d13a3[_0x243282(0xb0)]();}};module[_0x5e0a93(0x8a)]={'mettreAJourAction':mettreAJourAction,'ajouterOuMettreAJourJid':ajouterOuMettreAJourJid,'verifierEtatJid':verifierEtatJid,'recupererActionJid':recupererActionJid};


